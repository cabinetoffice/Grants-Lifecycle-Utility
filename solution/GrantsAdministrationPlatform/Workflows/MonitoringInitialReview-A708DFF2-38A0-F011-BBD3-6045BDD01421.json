{
  "properties": {
    "connectionReferences": {
      "shared_commondataserviceforapps-1": {
        "impersonation": {},
        "runtimeSource": "embedded",
        "connection": {
          "connectionReferenceLogicalName": "gap_Dataverse"
        },
        "api": {
          "name": "shared_commondataserviceforapps"
        }
      }
    },
    "definition": {
      "$schema": "https://schema.management.azure.com/providers/Microsoft.Logic/schemas/2016-06-01/workflowdefinition.json#",
      "contentVersion": "1.0.0.0",
      "parameters": {
        "$authentication": {
          "defaultValue": {},
          "type": "SecureObject"
        },
        "$connections": {
          "defaultValue": {},
          "type": "Object"
        }
      },
      "triggers": {
        "Stage_Updated": {
          "metadata": {
            "operationMetadataId": "021c447b-db9a-440c-aed1-b774538d3387"
          },
          "type": "OpenApiConnectionWebhook",
          "inputs": {
            "parameters": {
              "subscriptionRequest/message": 3,
              "subscriptionRequest/entityname": "gap_monitoringactivity",
              "subscriptionRequest/scope": 4,
              "subscriptionRequest/filteringattributes": "gap_currentstage",
              "subscriptionRequest/filterexpression": "gap_currentstage eq 'Initial Review' and gap_initializedstage ne 'Initial Review'",
              "subscriptionRequest/name": "a708dff2-38a0-f011-bbd3-6045bdd01421:MTA"
            },
            "host": {
              "apiId": "/providers/Microsoft.PowerApps/apis/shared_commondataserviceforapps",
              "connectionName": "shared_commondataserviceforapps-1",
              "operationId": "SubscribeWebhookTrigger"
            },
            "authentication": "@parameters('$authentication')"
          }
        }
      },
      "actions": {
        "Initialize_Error_Message": {
          "runAfter": {
            "Update_a_row": [
              "Succeeded"
            ]
          },
          "metadata": {
            "operationMetadataId": "04a47c8f-551e-4423-9cf7-77ae16b4841a"
          },
          "type": "InitializeVariable",
          "inputs": {
            "variables": [
              {
                "name": "Error Message",
                "type": "string"
              }
            ]
          }
        },
        "Try": {
          "actions": {
            "Reviewer_Requires_Setting": {
              "actions": {
                "List_Users_in_Reviewer_Team": {
                  "runAfter": {
                    "Set_Initial_Reviewer": [
                      "Succeeded"
                    ]
                  },
                  "metadata": {
                    "operationMetadataId": "61148d74-6c1b-4899-bf34-f63a5b9ad734"
                  },
                  "type": "OpenApiConnection",
                  "inputs": {
                    "parameters": {
                      "entityName": "teammemberships",
                      "$filter": "teamid eq @{outputs('Get_Scheme')?['body/_gap_reviewers_value']}"
                    },
                    "host": {
                      "apiId": "/providers/Microsoft.PowerApps/apis/shared_commondataserviceforapps",
                      "connectionName": "shared_commondataserviceforapps-1",
                      "operationId": "ListRecords"
                    },
                    "authentication": "@parameters('$authentication')"
                  }
                },
                "Condition_|_Initial_Reviewer_in_Reviewer_Team": {
                  "actions": {
                    "Update_Initial_Reviewer": {
                      "metadata": {
                        "operationMetadataId": "4737f97c-90ad-4517-bb0f-82085b953310"
                      },
                      "type": "OpenApiConnection",
                      "inputs": {
                        "parameters": {
                          "entityName": "gap_monitoringactivities",
                          "recordId": "@triggerOutputs()?['body/gap_monitoringactivityid']",
                          "item/gap_InitialReviewer@odata.bind": "systemusers(@{outputs('Get_Application')?['body/_gap_initialreviewer_value']})"
                        },
                        "host": {
                          "apiId": "/providers/Microsoft.PowerApps/apis/shared_commondataserviceforapps",
                          "connectionName": "shared_commondataserviceforapps-1",
                          "operationId": "UpdateOnlyRecord"
                        },
                        "authentication": "@parameters('$authentication')"
                      }
                    }
                  },
                  "runAfter": {
                    "Apply_to_each": [
                      "Succeeded"
                    ]
                  },
                  "else": {
                    "actions": {
                      "List_Users_(Reviewer_Team)": {
                        "metadata": {
                          "operationMetadataId": "6753efe7-ad59-4c91-aa95-c5e27b21ef4f"
                        },
                        "type": "OpenApiConnection",
                        "inputs": {
                          "parameters": {
                            "entityName": "teammemberships",
                            "$filter": "teamid eq @{outputs('Get_Scheme')?['body/_gap_reviewers_value']}"
                          },
                          "host": {
                            "apiId": "/providers/Microsoft.PowerApps/apis/shared_commondataserviceforapps",
                            "connectionName": "shared_commondataserviceforapps-1",
                            "operationId": "ListRecords"
                          },
                          "authentication": "@parameters('$authentication')"
                        }
                      },
                      "Condition_|_Minimum_Quantity": {
                        "actions": {
                          "Apply_to_each_2": {
                            "foreach": "@outputs('List_Users_(Reviewer_Team)')?['body/value']",
                            "actions": {
                              "List_rows_|_Applications_for_this_Scheme": {
                                "metadata": {
                                  "operationMetadataId": "aeb469e1-715b-406f-8fc6-07153444cbec"
                                },
                                "type": "OpenApiConnection",
                                "inputs": {
                                  "parameters": {
                                    "entityName": "gap_applications",
                                    "$filter": "_gap_scheme_value eq @{outputs('Get_Scheme')?['body/gap_schemeid']} and _ownerid_value eq @{items('Apply_to_each_2')?['systemuserid']}"
                                  },
                                  "host": {
                                    "apiId": "/providers/Microsoft.PowerApps/apis/shared_commondataserviceforapps",
                                    "connectionName": "shared_commondataserviceforapps-1",
                                    "operationId": "ListRecords"
                                  },
                                  "authentication": "@parameters('$authentication')"
                                }
                              },
                              "List_rows_|_Monitoring_Activities_for_this_Scheme": {
                                "runAfter": {
                                  "List_rows_|_Applications_for_this_Scheme": [
                                    "Succeeded"
                                  ]
                                },
                                "metadata": {
                                  "operationMetadataId": "fe1fba3f-fc37-46eb-9ef6-370662727d03"
                                },
                                "type": "OpenApiConnection",
                                "inputs": {
                                  "parameters": {
                                    "entityName": "gap_monitoringactivities",
                                    "$filter": "_gap_scheme_value eq @{outputs('Get_Scheme')?['body/gap_schemeid']} and _ownerid_value eq @{items('Apply_to_each_2')?['systemuserid']}"
                                  },
                                  "host": {
                                    "apiId": "/providers/Microsoft.PowerApps/apis/shared_commondataserviceforapps",
                                    "connectionName": "shared_commondataserviceforapps-1",
                                    "operationId": "ListRecords"
                                  },
                                  "authentication": "@parameters('$authentication')"
                                }
                              },
                              "Get_User": {
                                "runAfter": {
                                  "List_rows_|_Monitoring_Activities_for_this_Scheme": [
                                    "Succeeded"
                                  ]
                                },
                                "metadata": {
                                  "operationMetadataId": "8c39a028-9120-41c9-9050-22187fa00bb5"
                                },
                                "type": "OpenApiConnection",
                                "inputs": {
                                  "parameters": {
                                    "entityName": "systemusers",
                                    "recordId": "@items('Apply_to_each_2')?['systemuserid']"
                                  },
                                  "host": {
                                    "apiId": "/providers/Microsoft.PowerApps/apis/shared_commondataserviceforapps",
                                    "connectionName": "shared_commondataserviceforapps-1",
                                    "operationId": "GetItem"
                                  },
                                  "authentication": "@parameters('$authentication')"
                                }
                              },
                              "Update_Review_Array": {
                                "runAfter": {
                                  "Get_User": [
                                    "Succeeded"
                                  ]
                                },
                                "metadata": {
                                  "operationMetadataId": "29c63815-5529-4de6-b082-4ac66782f8f9"
                                },
                                "type": "AppendToArrayVariable",
                                "inputs": {
                                  "name": "Review Array",
                                  "value": {
                                    "Reviewer": "@{items('Apply_to_each_2')?['systemuserid']}",
                                    "Name": "@{outputs('Get_User')?['body/fullname']}",
                                    "Number of Reviews": "@add(length(outputs('List_rows_|_Monitoring_Activities_for_this_Scheme')?['body/value']), length(outputs('List_rows_|_Applications_for_this_Scheme')?['body/value']))"
                                  }
                                }
                              }
                            },
                            "metadata": {
                              "operationMetadataId": "f30f9ed6-6de3-423b-930a-41b4fd96b7c3"
                            },
                            "type": "Foreach"
                          },
                          "Sort_Users": {
                            "runAfter": {
                              "Apply_to_each_2": [
                                "Succeeded"
                              ]
                            },
                            "metadata": {
                              "operationMetadataId": "d4c48e08-4738-4ea4-a08e-6e3d638a14f6"
                            },
                            "type": "Compose",
                            "inputs": "@sort(variables('Review Array'), 'Number of Reviews')"
                          },
                          "Compose_|_Get_User": {
                            "runAfter": {
                              "Sort_Users": [
                                "Succeeded"
                              ]
                            },
                            "metadata": {
                              "operationMetadataId": "767c01dc-1939-4958-b616-6253732de87d"
                            },
                            "type": "Compose",
                            "inputs": "@first(outputs('Sort_Users'))?['Reviewer']"
                          },
                          "Flow_|_Get_Team_Members": {
                            "runAfter": {
                              "Compose_|_Get_User": [
                                "Succeeded"
                              ]
                            },
                            "metadata": {
                              "operationMetadataId": "78ba3db9-7c9a-4553-bddd-ac3664b7e100"
                            },
                            "type": "Workflow",
                            "inputs": {
                              "host": {
                                "workflowReferenceName": "1085c650-c272-f011-b4cc-0022483ff195"
                              },
                              "body": {
                                "text": "@outputs('Get_Scheme')?['body/gap_schemeid']"
                              }
                            }
                          },
                          "Flow_|_Remove_Owner": {
                            "runAfter": {
                              "Flow_|_Get_Team_Members": [
                                "Succeeded"
                              ]
                            },
                            "metadata": {
                              "operationMetadataId": "dbedc1e2-0c52-4e5d-acc8-2f6bdee0eacf"
                            },
                            "type": "Workflow",
                            "inputs": {
                              "host": {
                                "workflowReferenceName": "d251da56-97dc-ee11-904d-6045bdf1ea43"
                              },
                              "body": {
                                "text": "@body('Flow_|_Get_Team_Members')?['users']",
                                "text_1": "@outputs('Compose_|_Get_User')"
                              }
                            }
                          },
                          "Update_Owner": {
                            "runAfter": {
                              "Flow_|_Remove_Owner": [
                                "Succeeded"
                              ]
                            },
                            "metadata": {
                              "operationMetadataId": "8fe1b0f6-4047-478c-9011-7844d4437906"
                            },
                            "type": "OpenApiConnection",
                            "inputs": {
                              "parameters": {
                                "entityName": "gap_monitoringactivities",
                                "recordId": "@triggerOutputs()?['body/gap_monitoringactivityid']",
                                "item/gap_InitialReviewer@odata.bind": "systemusers(@{outputs('Compose_|_Get_User')})"
                              },
                              "host": {
                                "apiId": "/providers/Microsoft.PowerApps/apis/shared_commondataserviceforapps",
                                "connectionName": "shared_commondataserviceforapps-1",
                                "operationId": "UpdateOnlyRecord"
                              },
                              "authentication": "@parameters('$authentication')"
                            }
                          }
                        },
                        "runAfter": {
                          "List_Users_(Reviewer_Team)": [
                            "Succeeded"
                          ]
                        },
                        "else": {
                          "actions": {
                            "Update_Error_Message": {
                              "metadata": {
                                "operationMetadataId": "10fa6d1a-7004-4de9-8e84-6d3936f9bcd4"
                              },
                              "type": "SetVariable",
                              "inputs": {
                                "name": "Error Message",
                                "value": "There was an insufficient number of reviewers in the team."
                              }
                            },
                            "Trigger_Error": {
                              "runAfter": {
                                "Update_Error_Message": [
                                  "Succeeded"
                                ]
                              },
                              "metadata": {
                                "operationMetadataId": "1d80a474-c36c-410f-ad6c-b6fb1d3d1c40"
                              },
                              "type": "Compose",
                              "inputs": "@div(1,0)"
                            }
                          }
                        },
                        "expression": {
                          "greaterOrEquals": [
                            "@length(outputs('List_Users_(Reviewer_Team)')?['body/value'])",
                            1
                          ]
                        },
                        "metadata": {
                          "operationMetadataId": "64961b35-7eb2-48eb-a86b-4fdd6f4fa09f"
                        },
                        "type": "If"
                      }
                    }
                  },
                  "expression": {
                    "contains": [
                      "@variables('Reviewers Team')",
                      "@variables('Initial Reviewer')"
                    ]
                  },
                  "metadata": {
                    "operationMetadataId": "c7232395-6b48-4bef-922e-516f543420b9"
                  },
                  "type": "If"
                },
                "Set_Initial_Reviewer": {
                  "metadata": {
                    "operationMetadataId": "1a974242-f164-49a3-b967-9817fc1e173e"
                  },
                  "type": "SetVariable",
                  "inputs": {
                    "name": "Initial Reviewer",
                    "value": "@outputs('Get_Application')?['body/_gap_initialreviewer_value']"
                  }
                },
                "Apply_to_each": {
                  "foreach": "@outputs('List_Users_in_Reviewer_Team')?['body/value']",
                  "actions": {
                    "Append_to_Reviewers_Team": {
                      "metadata": {
                        "operationMetadataId": "84be5422-23f3-4ad3-8b91-74de10b6103f"
                      },
                      "type": "AppendToArrayVariable",
                      "inputs": {
                        "name": "Reviewers Team",
                        "value": "@items('Apply_to_each')?['systemuserid']"
                      }
                    }
                  },
                  "runAfter": {
                    "List_Users_in_Reviewer_Team": [
                      "Succeeded"
                    ]
                  },
                  "metadata": {
                    "operationMetadataId": "109f5a41-d778-49a3-b2cb-85f642db498e"
                  },
                  "type": "Foreach"
                }
              },
              "runAfter": {
                "Update_Monitoring_Structure_Owner": [
                  "Succeeded"
                ]
              },
              "else": {
                "actions": {}
              },
              "expression": {
                "and": [
                  {
                    "equals": [
                      "@triggerOutputs()?['body/_gap_initialreviewer_value']",
                      "@null"
                    ]
                  }
                ]
              },
              "metadata": {
                "operationMetadataId": "0d7481db-e049-4b21-8f21-d07726215746"
              },
              "type": "If"
            },
            "Get_Latest_Monitoring_Activity": {
              "runAfter": {
                "Reviewer_Requires_Setting": [
                  "Succeeded"
                ]
              },
              "metadata": {
                "operationMetadataId": "0be54156-d4f6-47bc-977d-500cfa3a82d8"
              },
              "type": "OpenApiConnection",
              "inputs": {
                "parameters": {
                  "entityName": "gap_monitoringactivities",
                  "recordId": "@triggerOutputs()?['body/gap_monitoringactivityid']"
                },
                "host": {
                  "apiId": "/providers/Microsoft.PowerApps/apis/shared_commondataserviceforapps",
                  "connectionName": "shared_commondataserviceforapps-1",
                  "operationId": "GetItem"
                },
                "authentication": "@parameters('$authentication')"
              }
            },
            "Update_Monitoring_Activity_Owner": {
              "runAfter": {
                "Get_Latest_Monitoring_Activity": [
                  "Succeeded"
                ]
              },
              "metadata": {
                "operationMetadataId": "c01f1ba5-098e-4639-b581-0e8ae54f71db"
              },
              "type": "OpenApiConnection",
              "inputs": {
                "parameters": {
                  "entityName": "gap_monitoringactivities",
                  "recordId": "@outputs('Get_Latest_Monitoring_Activity')?['body/gap_monitoringactivityid']",
                  "item/ownerid@odata.bind": "systemusers(@{outputs('Get_Latest_Monitoring_Activity')?['body/_gap_initialreviewer_value']})"
                },
                "host": {
                  "apiId": "/providers/Microsoft.PowerApps/apis/shared_commondataserviceforapps",
                  "connectionName": "shared_commondataserviceforapps-1",
                  "operationId": "UpdateOnlyRecord"
                },
                "authentication": "@parameters('$authentication')"
              }
            },
            "Get_Application": {
              "metadata": {
                "operationMetadataId": "1994cc12-5db8-4d61-8534-7e31a41767aa"
              },
              "type": "OpenApiConnection",
              "inputs": {
                "parameters": {
                  "entityName": "gap_applications",
                  "recordId": "@triggerOutputs()?['body/_gap_application_value']"
                },
                "host": {
                  "apiId": "/providers/Microsoft.PowerApps/apis/shared_commondataserviceforapps",
                  "connectionName": "shared_commondataserviceforapps-1",
                  "operationId": "GetItem"
                },
                "authentication": "@parameters('$authentication')"
              }
            },
            "Get_Scheme": {
              "runAfter": {
                "Get_Application": [
                  "Succeeded"
                ]
              },
              "metadata": {
                "operationMetadataId": "c28ec64c-40a9-411a-be9d-d1409c90cdaf"
              },
              "type": "OpenApiConnection",
              "inputs": {
                "parameters": {
                  "entityName": "gap_schemes",
                  "recordId": "@outputs('Get_Application')?['body/_gap_scheme_value']"
                },
                "host": {
                  "apiId": "/providers/Microsoft.PowerApps/apis/shared_commondataserviceforapps",
                  "connectionName": "shared_commondataserviceforapps-1",
                  "operationId": "GetItem"
                },
                "authentication": "@parameters('$authentication')"
              }
            },
            "Monitoring_Checklist_Exists": {
              "actions": {
                "Update_Monitoring_Checklist_": {
                  "metadata": {
                    "operationMetadataId": "536d1bae-5542-46d5-931f-72272cf532a9"
                  },
                  "type": "OpenApiConnection",
                  "inputs": {
                    "parameters": {
                      "entityName": "gap_monitoringchecklists",
                      "recordId": "@outputs('Get_Latest_Monitoring_Activity')?['body/_gap_monitoringchecklist_value']",
                      "item/ownerid@odata.bind": "systemusers(@{outputs('Get_Latest_Monitoring_Activity')?['body/_gap_initialreviewer_value']})"
                    },
                    "host": {
                      "apiId": "/providers/Microsoft.PowerApps/apis/shared_commondataserviceforapps",
                      "connectionName": "shared_commondataserviceforapps-1",
                      "operationId": "UpdateOnlyRecord"
                    },
                    "authentication": "@parameters('$authentication')"
                  }
                }
              },
              "runAfter": {
                "Update_Monitoring_Activity_Owner": [
                  "Succeeded"
                ]
              },
              "else": {
                "actions": {}
              },
              "expression": {
                "and": [
                  {
                    "not": {
                      "equals": [
                        "@triggerOutputs()?['body/_gap_monitoringchecklist_value']",
                        "@null"
                      ]
                    }
                  }
                ]
              },
              "metadata": {
                "operationMetadataId": "b0d9bee6-68dc-4063-b8ad-8efa306b2677"
              },
              "type": "If"
            },
            "Get_Monitoring_Structure": {
              "runAfter": {
                "Get_Scheme": [
                  "Succeeded"
                ]
              },
              "metadata": {
                "operationMetadataId": "a771e89a-cbef-4bbf-ad4a-8f61f29b02d7"
              },
              "type": "OpenApiConnection",
              "inputs": {
                "parameters": {
                  "entityName": "gap_monitoringstructures",
                  "recordId": "@outputs('Get_Application')?['body/_gap_monitoringstructure_value']"
                },
                "host": {
                  "apiId": "/providers/Microsoft.PowerApps/apis/shared_commondataserviceforapps",
                  "connectionName": "shared_commondataserviceforapps-1",
                  "operationId": "GetItem"
                },
                "authentication": "@parameters('$authentication')"
              }
            },
            "Update_Monitoring_Structure_Owner": {
              "runAfter": {
                "Get_Monitoring_Structure": [
                  "Succeeded"
                ]
              },
              "metadata": {
                "operationMetadataId": "f431af1a-8128-4c70-93b4-ff2560265354"
              },
              "type": "OpenApiConnection",
              "inputs": {
                "parameters": {
                  "entityName": "gap_monitoringstructures",
                  "recordId": "@outputs('Get_Monitoring_Structure')?['body/gap_monitoringstructureid']",
                  "item/ownerid@odata.bind": "systemusers(@{outputs('Get_Monitoring_Structure')?['body/_createdby_value']})"
                },
                "host": {
                  "apiId": "/providers/Microsoft.PowerApps/apis/shared_commondataserviceforapps",
                  "connectionName": "shared_commondataserviceforapps-1",
                  "operationId": "UpdateOnlyRecord"
                },
                "authentication": "@parameters('$authentication')"
              }
            }
          },
          "runAfter": {
            "Initialize_Reviewers_Team": [
              "Succeeded"
            ]
          },
          "metadata": {
            "operationMetadataId": "cd509f08-3c93-4593-8f32-00cb80aa8023"
          },
          "type": "Scope"
        },
        "Catch": {
          "actions": {
            "Update_Monitoring_Activity_Stage": {
              "metadata": {
                "operationMetadataId": "c01f1ba5-098e-4639-b581-0e8ae54f71db"
              },
              "type": "OpenApiConnection",
              "inputs": {
                "parameters": {
                  "entityName": "gap_monitoringactivities",
                  "recordId": "@triggerOutputs()?['body/gap_monitoringactivityid']",
                  "item/gap_currentstage": "Error (Initial Review)"
                },
                "host": {
                  "apiId": "/providers/Microsoft.PowerApps/apis/shared_commondataserviceforapps",
                  "connectionName": "shared_commondataserviceforapps-1",
                  "operationId": "UpdateOnlyRecord"
                },
                "authentication": "@parameters('$authentication')"
              }
            },
            "Error_Message_Exists": {
              "actions": {
                "Add_Custom_Error_Message": {
                  "metadata": {
                    "operationMetadataId": "ef2dafcd-55ba-4452-921e-797fc9afac15"
                  },
                  "type": "OpenApiConnection",
                  "inputs": {
                    "parameters": {
                      "entityName": "annotations",
                      "item/subject": "An error occurred.",
                      "item/notetext": "@variables('Error Message')",
                      "item/objectid_gap_monitoringactivity@odata.bind": "gap_monitoringactivities(@{triggerOutputs()?['body/gap_monitoringactivityid']})"
                    },
                    "host": {
                      "apiId": "/providers/Microsoft.PowerApps/apis/shared_commondataserviceforapps",
                      "connectionName": "shared_commondataserviceforapps-1",
                      "operationId": "CreateRecord"
                    },
                    "authentication": "@parameters('$authentication')"
                  }
                }
              },
              "runAfter": {
                "Update_Monitoring_Activity_Stage": [
                  "Succeeded"
                ]
              },
              "else": {
                "actions": {
                  "Add_Standard_Error_Message": {
                    "metadata": {
                      "operationMetadataId": "d28264f6-6a18-46fb-aa4b-40a552729341"
                    },
                    "type": "OpenApiConnection",
                    "inputs": {
                      "parameters": {
                        "entityName": "annotations",
                        "item/subject": "An error occurred.",
                        "item/notetext": "Flow Name: @{workflow()['name']}\nRun ID: @{workflow()['run']['name']}\nDate & Time: @{utcNow()}\nLink: @{concat('https://make.powerautomate.com/environments/', workflow()['tags']['environmentName'], '/solutions/', split(workflow()['tags']['environmentWorkflowId'], '-')[1], '/flows/', workflow()['tags']['xrmWorkflowId'])\r\n}",
                        "item/objectid_gap_monitoringactivity@odata.bind": "gap_monitoringactivities(@{triggerOutputs()?['body/gap_monitoringactivityid']})"
                      },
                      "host": {
                        "apiId": "/providers/Microsoft.PowerApps/apis/shared_commondataserviceforapps",
                        "connectionName": "shared_commondataserviceforapps-1",
                        "operationId": "CreateRecord"
                      },
                      "authentication": "@parameters('$authentication')"
                    }
                  }
                }
              },
              "expression": {
                "and": [
                  {
                    "greater": [
                      "@length(variables('Error Message'))",
                      0
                    ]
                  }
                ]
              },
              "metadata": {
                "operationMetadataId": "5b41800d-c72e-45fe-bfc7-d9f4cc47b33f"
              },
              "type": "If"
            }
          },
          "runAfter": {
            "Try": [
              "TimedOut",
              "Skipped",
              "Failed"
            ]
          },
          "metadata": {
            "operationMetadataId": "617add9f-d49a-4165-a1cf-f135603ca881"
          },
          "type": "Scope"
        },
        "Update_a_row": {
          "runAfter": {},
          "metadata": {
            "operationMetadataId": "7271d5ae-8dcd-4869-babe-a440e6e21b2c"
          },
          "type": "OpenApiConnection",
          "inputs": {
            "parameters": {
              "entityName": "gap_monitoringactivities",
              "recordId": "@triggerOutputs()?['body/gap_monitoringactivityid']",
              "item/gap_initializedstage": "Initial Review"
            },
            "host": {
              "apiId": "/providers/Microsoft.PowerApps/apis/shared_commondataserviceforapps",
              "connectionName": "shared_commondataserviceforapps-1",
              "operationId": "UpdateOnlyRecord"
            },
            "authentication": "@parameters('$authentication')"
          }
        },
        "Initialize_Review_Array": {
          "runAfter": {
            "Initialize_Error_Message": [
              "Succeeded"
            ]
          },
          "metadata": {
            "operationMetadataId": "25886939-3448-45f2-92cf-d79ac986eeb8"
          },
          "type": "InitializeVariable",
          "inputs": {
            "variables": [
              {
                "name": "Review Array",
                "type": "array"
              }
            ]
          }
        },
        "Initialize_Initial_Reviewer": {
          "runAfter": {
            "Initialize_Review_Array": [
              "Succeeded"
            ]
          },
          "metadata": {
            "operationMetadataId": "71e41a0c-b8aa-4602-810e-9fc788925054"
          },
          "type": "InitializeVariable",
          "inputs": {
            "variables": [
              {
                "name": "Initial Reviewer",
                "type": "string"
              }
            ]
          }
        },
        "Initialize_Reviewers_Team": {
          "runAfter": {
            "Initialize_Initial_Reviewer": [
              "Succeeded"
            ]
          },
          "metadata": {
            "operationMetadataId": "4929b5cc-4bab-411e-9cfd-8329fcb01e8a"
          },
          "type": "InitializeVariable",
          "inputs": {
            "variables": [
              {
                "name": "Reviewers Team",
                "type": "array"
              }
            ]
          }
        }
      },
      "outputs": {}
    },
    "templateName": null
  },
  "schemaVersion": "1.0.0.0"
}